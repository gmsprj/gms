#!/bin/bash
#
# DBのテーブルを初期化する。
#

gm-cleardb 
if [ $? -ne 0 ]; then
    exit 1
fi

gm-sitesadd "GMS 0.0.6" "`cat <<EOT
労働者のユニオン・サイトです。\nギルド（同業者組合）に参加することで議論に参加できます。\nギルドではスレッドによる雑談・話し合い、文書の提案などが行えます。\nギルドの文書は、例えば仕事のマニュアルや、理由等を付けた相場の公開などに使えるでしょう。\\nギルドへの参加にはユーザー登録が必要です。サインアップしてギルドに参加してみましょう。\n
EOT
`"
if [ $? -ne 0 ]; then
    exit 1
fi

gm-guildsadd "練習用ギルド" "練習用のギルドです。"
if [ $? -ne 0 ]; then
    exit 1
fi

gm-guildsadd "開発者ギルド" "開発者のギルドです。"
if [ $? -ne 0 ]; then
    exit 1
fi

gm-boardsadd "ロビー" "ロビー板"
if [ $? -ne 0 ]; then
    exit 1
fi

gm-ndadd "文書について" "　ユーザーはギルドに参加することで、所属するギルドの文書をいくつでも作成できます。ギルド員の作成した新しい文書を「提案」と呼びます。「提案」は 30 日で自動的に破棄されます。「提案」は他のギルド員に受け入れられると「文書」になり、ギルド内で恒久的に保存されます。この文書はギルドの活動に利用されることでしょう。文書の作成前にスレッド上で議論を行うのが一般的です。"
if [ $? -ne 0 ]; then
    exit 1
fi

gm-newsadd "システムが初期化されました。"
if [ $? -ne 0 ]; then
    exit 1
fi

exit 0

