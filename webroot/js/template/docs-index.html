<div class="container">
    <div class="row">
        <div class="col-sm-6">
            <h3>文書について</h3>
            <p>ユーザーはギルドに参加することで、所属するギルドの文書をいくつでも作
                成できます。ギルド員の作成した新しい文書を「提案」と呼びます。「提案」は 30 日で自動的に破棄され
                    ます。「提案」は他のギルド員に受け入れられると「文書」になり、ギルド内で恒久的に保存されます。こ
                        の文書はギルドの活動に利用されます。文書は「タグ」を付けることで分類可能です。</p>
        </div>
        <div class="col-sm-6">
        </div>
    </div>
    <hr/>

    <div class="row">
        <div class="col-sm-12">
            <h4>文書一覧</h4>
            <ul ng-repeat="el in $ctrl.docs">
                <li><a target="_self" href="/docs/view/{{ el.id }}">{{ el.name }}</a> (<a target="_self" href="/guilds/view/{{ el.ownerId }}">{{ el.ownerName }}</a>)</li>
            </ul>
        </div>
    </div>
    <hr/>

    <div class="row">
        <div class="col-sm-12" ng-if="!$ctrl.user || !$ctrl.userGuilds.length">
            <p ng-if="!$ctrl.user">文書の提案にはサインインが必要です。</p>
            <p ng-if="!$ctrl.userGuilds.length">文書の提案には所属ギルドが必要です。</p>
        </div>

        <div class="col-sm-12" ng-if="$ctrl.user && $ctrl.userGuilds.length">
            <div class="panel panel-default">
                <div class="panel-heading">文書を提案する</div>
                <div class="panel-body">
                    <form method="post" accept-charset="utf-8" action="/docs/add">
                        <div style="display:none;">
                            <input type="hidden" name="_method" value="POST"/>
                            <input type="hidden" name="_csrfToken" value="{{ $ctrl.csrf }}"/>
                            <input type="hidden" name="docState" value="draft"/>
                        </div>
                        <div class="form-horizontal">
                            <div class="form-group">
                                <label for="guildId" class="col-xs-2 control-label text-muted">ギルド</label>
                                <div class="col-xs-10">
                                    <select name="guildId">
                                        <option ng-repeat="el in $ctrl.userGuilds" value="{{ el.id }}">{{ el.name }}</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="threadId" class="col-xs-2 control-label text-muted">参照スレッド</label>
                                <div class="col-xs-10">
                                    <input name="threadId" type="text" class="form-control" value="1" placeholder="ID" />
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="docName" class="col-xs-2 control-label text-muted">提案名</label>
                                <div class="col-xs-10">
                                    <input name="docName" type="text" class="form-control" value="" placeholder="提案名" />
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="docContent" class="col-xs-2 control-label text-muted">提案内容</label>
                                <div class="col-xs-10">
                                    <textarea class="col-xs-12" name="docContent" rows="5" placeholder="提案内容"></textarea>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-xs-offset-2 col-xs-10">
                                    <input type="submit" class="btn btn-default" value="提案する" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div><!-- panel -->
        </div><!-- col -->
    </div><!-- row -->
    <hr/>

</div>

